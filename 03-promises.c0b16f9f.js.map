{"mappings":"0iBACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,oC,WCG5B,SAASC,EAAkBC,EAAQC,GAC/B,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAI,CACjC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDhB,OAAOC,eAAeQ,EAAQI,EAAWI,IAAKJ,E,EAftDb,OAAOC,eAAeiB,EAAS,aAAc,CACzCf,OAAO,IAEXe,EAAQd,QACR,SAAsBE,EAAaa,EAAYC,GACvCD,GAAYX,EAAkBF,EAAYe,UAAWF,GACrDC,GAAaZ,EAAkBF,EAAac,GAChD,OAAOd,C,mBCiDXgB,EAAG,W,sBAvDGC,I,6BACJN,IAAA,S,MAAA,SAAOO,GACLA,EAAEC,iBACF,IAAgCC,EAAAF,EAAEG,cAAcC,SAAxCC,EAAwBH,EAAxBG,MAAOC,EAAiBJ,EAAjBI,KAAMC,EAAWL,EAAXK,OAEfC,EAAYC,OAAOJ,EAAM1B,OACzB+B,EAAWD,OAAOH,EAAK3B,OACvBgC,EAAaF,OAAOF,EAAO5B,OAEjCiC,KAAKC,cAAcL,EAAWE,EAAUC,E,IAG1ClB,IAAA,gB,MAAA,SAAcY,EAAOC,EAAMC,GAEzB,IADA,IAAIO,EAAeT,EACVlB,EAAI,EAAGA,GAAKoB,EAAQpB,GAAK,EAAG,C,WACnCyB,KAAKG,cAAc5B,EAAG2B,GACnBE,MAAK,SAAAC,G,IAAGC,EAAQD,EAARC,SAAUC,EAAKF,EAALZ,MACjBe,EAAKC,QAAQH,EAAUC,E,IAExBG,OAAM,SAAAL,G,IAAGC,EAAQD,EAARC,SAAUC,EAAKF,EAALZ,MAClBe,EAAKG,QAAQL,EAAUC,E,IAG3BL,GAAgBR,C,KAIpBb,IAAA,gB,MAAA,SAAcyB,EAAUb,GACtB,OAAO,IAAImB,SAAQ,SAACC,EAAKC,GACvBC,YAAW,WACaC,KAAKC,SAAW,GAGpCJ,EAAI,CAAEP,WAAUb,UAGhBqB,EAAI,CAAER,WAAUb,S,GAEjBA,E,OAIPZ,IAAA,U,MAAA,SAAQyB,EAAUb,GAChByB,EAAAC,OAAOV,QAAQ,uBAAwCW,OAAfd,EAAS,QAAYc,OAAN3B,EAAM,MAAK,CAC9D4B,cAAY,G,IAIlBxC,IAAA,U,MAAA,SAAQyB,EAAUb,GAChByB,EAAAC,OAAOR,QAAQ,sBAAqCS,OAAfd,EAAS,QAAYc,OAAN3B,EAAM,MAAK,CAC7D4B,cAAc,G,OAKjB,GCvDGC,EAAUC,SAASC,cAAc,SACjCC,EAAW,IAAIvC,EAErBoC,EAAQI,iBAAiB,SAAUD,EAASE,OAAOC,KAAKH,G","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/promise-plugin.js","src/js/03-promises.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nclass PromisePlugin {\n  submit(e) {\n    e.preventDefault();\n    const { delay, step, amount } = e.currentTarget.elements;\n\n    const pDelayNum = Number(delay.value);\n    const pStepNum = Number(step.value);\n    const pAmountNum = Number(amount.value);\n\n    this.promiseCaller(pDelayNum, pStepNum, pAmountNum);\n  }\n\n  promiseCaller(delay, step, amount) {\n    let delayCounter = delay;\n    for (let i = 1; i <= amount; i += 1) {\n      this.createPromise(i, delayCounter)\n        .then(({ position, delay }) => {\n          this.success(position, delay);\n        })\n        .catch(({ position, delay }) => {\n          this.failure(position, delay);\n        });\n\n      delayCounter += step;\n    }\n  }\n\n  createPromise(position, delay) {\n    return new Promise((res, rej) => {\n      setTimeout(() => {\n        const shouldResolve = Math.random() > 0.3;\n        if (shouldResolve) {\n          // Fulfill\n          res({ position, delay });\n        } else {\n          // Reject\n          rej({ position, delay });\n        }\n      }, delay);\n    });\n  }\n\n  success(position, delay) {\n    Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`, {\n      clickToClose: true,\n    });\n  }\n\n  failure(position, delay) {\n    Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`, {\n      clickToClose: true,\n    });\n  }\n}\n\nexport default PromisePlugin;\n","import PromisePlugin from './promise-plugin';\n\nconst formRef = document.querySelector('.form');\nconst promises = new PromisePlugin();\n\nformRef.addEventListener('submit', promises.submit.bind(promises));\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$5373d91b6f0e1af3$export$2e2bcd8739ae039","PromisePlugin","e","preventDefault","_elements","currentTarget","elements","delay","step","amount","pDelayNum","Number","pStepNum","pAmountNum","this","promiseCaller","delayCounter","createPromise","then","param","position","_$delay","_this","success","catch","failure","Promise","res","rej","setTimeout","Math","random","$h6c0i","Notify","concat","clickToClose","$ce04d3a99e08e73b$var$formRef","document","querySelector","$ce04d3a99e08e73b$var$promises","addEventListener","submit","bind"],"version":3,"file":"03-promises.c0b16f9f.js.map"}